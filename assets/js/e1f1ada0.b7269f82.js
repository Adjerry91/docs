"use strict";(self.webpackChunkvrcft_docs=self.webpackChunkvrcft_docs||[]).push([[4143],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(a),h=r,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return a?n.createElement(m,i(i({ref:t},p),{},{components:a})):n.createElement(m,i({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},5130:(e,t,a)=>{a.d(t,{b:()=>i,k:()=>l});var n=a(7294),r=a(902);const o=n.createContext(null);function i(e){let{children:t,content:a}=e;const r=function(e){return(0,n.useMemo)((()=>({metadata:e.metadata,frontMatter:e.frontMatter,assets:e.assets,contentTitle:e.contentTitle,toc:e.toc})),[e])}(a);return n.createElement(o.Provider,{value:r},t)}function l(){const e=(0,n.useContext)(o);if(null===e)throw new r.i6("DocProvider");return e}},351:(e,t,a)=>{a.d(t,{F4:()=>i,d9:()=>s,xb:()=>l});var n=a(5130),r=a(7294),o=a(2263);function i(e){let{children:t}=e;const{metadata:a}=(0,n.k)(),{editUrl:o}=a;return r.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},t)}function l(e){let{children:t,to:a,append:n=""}=e;const{siteConfig:i}=(0,o.Z)(),l=i.customFields[a.toLowerCase()];return r.createElement("a",{href:l.href+n,target:"_blank",rel:"noopener noreferrer"},t??l.label)}const s=e=>{let{children:t,color:a}=e;return r.createElement("span",{style:{color:a}},t)}},5252:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905)),o=a(351);const i={sidebar_position:1},l="VRCFaceTracking Program",s={unversionedId:"vrcft-software/vrcft",id:"vrcft-software/vrcft",title:"VRCFaceTracking Program",description:"VRChat has no native face tracking integration, at least for PC,",source:"@site/docs/vrcft-software/vrcft.mdx",sourceDirName:"vrcft-software",slug:"/vrcft-software/vrcft",permalink:"/docs/next/vrcft-software/vrcft",draft:!1,editUrl:"https://github.com/VRCFaceTracking/docs/edit/master/docs/vrcft-software/vrcft.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"VRCFT Software",permalink:"/docs/next/category/vrcft-software"},next:{title:"VRCFaceTracking Modules",permalink:"/docs/next/vrcft-software/modules/"}},c={},p=[{value:"Install VRCFaceTracking",id:"install-vrcfacetracking",level:2},{value:"VRCFaceTracking &quot;Housekeeping&quot;",id:"vrcfacetracking-housekeeping",level:2},{value:"Changing the OSC IP and Ports",id:"changing-the-osc-ip-and-ports",level:3},{value:"Unblocking Downloaded Dynamic Link Libraries (.dlls)",id:"unblocking-downloaded-dynamic-link-libraries-dlls",level:3},{value:"Resetting VRChat OSC Configs",id:"resetting-vrchat-osc-configs",level:3},{value:"Common Problems and How to Solve Them",id:"common-problems-and-how-to-solve-them",level:2}],d={toc:p},u="wrapper";function h(e){let{components:t,...i}=e;return(0,r.kt)(u,(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"vrcfacetracking-program"},"VRCFaceTracking Program"),(0,r.kt)("p",null,'VRChat has no native face tracking integration, at least for PC,\nwhich means there must be an intermediary software accessing face tracking data from whatever hardware and sending it to VRC via OSC as avatar parameters.\nVRCFaceTracking fulfills this intermediary role, creating a standard face-tracking parameter set for use with VRChat avatars.\nVRCFaceTracking works by the concept of "modules", which are add-on files that let the program access eye and face tracking data from different sources.'),(0,r.kt)("h2",{id:"install-vrcfacetracking"},"Install VRCFaceTracking"),(0,r.kt)("p",null,(0,r.kt)("del",{parentName:"p"},"Download the latest version of the program from the ",(0,r.kt)(o.xb,{to:"github",mdxType:"CustomLink"})," repo!")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The version of VRCFaceTracking these docs are based on is ",(0,r.kt)("strong",{parentName:"p"},"not publically released")," yet.\nIf you want to try out ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/tutorial-avatars/tutorial-avatars-extras/unified-blendshapes"},"Unified Expressions")," and the new module loading system, you can either\nbuild your own version of the latest VRCFT from the main repo, or ",(0,r.kt)("strong",{parentName:"p"},"download ",(0,r.kt)("a",{parentName:"strong",href:"https://github.com/regzo2/VRCFaceTracking/releases/tag/v5.0.0-pre-2"},"Azimid's old UE prelease test build")),".\nJust note that it, and its packaged modules, will not be compatible with the release version.")),(0,r.kt)("h2",{id:"vrcfacetracking-housekeeping"},'VRCFaceTracking "Housekeeping"'),(0,r.kt)("p",null,"These are a few small things that are good to be aware of when using face tracking with VRCFT and VRChat."),(0,r.kt)("h3",{id:"changing-the-osc-ip-and-ports"},"Changing the OSC IP and Ports"),(0,r.kt)("p",null,"Generally, you shouldn't need to change the default OSC address and ports to use VRCFaceTracking.\nHowever, there are situations where you might want to, so in case you do:"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"--osc=[output port]:[ip address]:[input port]")," as launch argument."),(0,r.kt)("p",null,"For example: ",(0,r.kt)("inlineCode",{parentName:"p"},"--osc=9000:127.0.0.1:9100")," is the common option when using VRCFaceTracking with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SutekhVRC/VOR"},"VRChatOSCRouter")),(0,r.kt)("p",null,'For an easy way to handle with command argument, create a shortcut to the VRCFaceTracking program, right-click the newly-created shortcut and open "Properties", and add the line to the shortcut "Target".\nMake sure to maintain a space between the flags and what was in the box already, and keep the flags outside of the quotation marks of the file path if they exist.\nRun VRCFaceTracking using this shortcut will start the program using the given OSC address and port settings.'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"VRCFT shortcut example",src:a(7915).Z,width:"360",height:"222"})),(0,r.kt)("h3",{id:"unblocking-downloaded-dynamic-link-libraries-dlls"},"Unblocking Downloaded Dynamic Link Libraries (.dlls)"),(0,r.kt)("p",null,"When downloading ",(0,r.kt)("inlineCode",{parentName:"p"},".dll")," files from the Internet, Windows may block them from being able to be used for security reasons.\nIn case this happens, follow these simple steps"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Right-click on the .dll file, open "Properties"'),(0,r.kt)("li",{parentName:"ol"},"Down at the bottom of the Properties window check the checkbox option for 'Security' to \"Unblock\".")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},'   If you don\'t see a checkbox to "Unblock", then it was not blocked automatically by Windows and you can safely continue.')),(0,r.kt)("h3",{id:"resetting-vrchat-osc-configs"},"Resetting VRChat OSC Configs"),(0,r.kt)("p",null,"Because of the sheer number of possible face tracking parameter configurations, VRCFaceTracking does not blindly send OSC messages for every possible parameter.\nUntil VRChat releases the ",(0,r.kt)("a",{parentName:"p",href:"https://ask.vrchat.com/t/developer-update-2-september-2022/13470#oscquery-9"},'"OSC Query" update'),", which is ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/vrchat-community/osc/issues/143#issuecomment-1304419543"},"currently in closed beta"),",\nVRCFaceTracking will rely on the static OSC config .json generated for each avatar to know what parameters to send.\nThis configuration file is ",(0,r.kt)("strong",{parentName:"p"},"never")," updated automatically, it must be reset manually to force VRC to generate an up-to-date version or manually edited yourself."),(0,r.kt)("p",null,"There are two ways of resetting the configs:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Using the OSC Radial Menu (In-game)"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"While in VRC, open the Radial Menu."),(0,r.kt)("li",{parentName:"ol"},"Navigate to Options -> OSC"),(0,r.kt)("li",{parentName:"ol"},'Make sure that "Enabled" is set to True (white bar on the right side). Setting this will cause an avatar refresh.'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Deleting the config .json files"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Navigate to your AppData folder. You can get to ",(0,r.kt)("inlineCode",{parentName:"li"},"AppData\\Roaming")," by typing ",(0,r.kt)("inlineCode",{parentName:"li"},"%appdata%")," into the search bar in the Windows Start Menu, or in the address bar of any Explorer window."),(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("inlineCode",{parentName:"li"},"..\\AppData\\LocalLow\\VRChat\\VRChat\\")," and delete the OSC folder."),(0,r.kt)("li",{parentName:"ol"},"Restart VRC or refresh your avatar (by resetting or swapping avatar)")))),(0,r.kt)("h2",{id:"common-problems-and-how-to-solve-them"},"Common Problems and How to Solve Them"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"VRCFaceTracking isn't starting at all")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cause: VRCFaceTracking is likely trying to access a module library (.dll) that is blocked by Windows Security."),(0,r.kt)("li",{parentName:"ul"},"Solution: ",(0,r.kt)("a",{parentName:"li",href:"#unblocking-downloaded-dynamic-link-libraries-dlls"},"unblocking downloaded dynamic link libraries")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"VRCFaceTracking is crashing when I join a world / change avatars")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cause: VRCFaceTracking failed to parse an invalid avatar OSC config."),(0,r.kt)("li",{parentName:"ul"},"Solution: Clear out your VRChat Avatar OSC folder. Follow option 2 in ",(0,r.kt)("a",{parentName:"li",href:"#resetting-vrchat-osc-configs"},"resetting OSC config")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"My personally uploaded Avatar loads 0 parameters!")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cause: Your avatar either doesn't have face tracking parameters, or is using an old OSC config that didn't have the face tracking parameters."),(0,r.kt)("li",{parentName:"ul"},"Solution: Follow option 1 and/or 2 in ",(0,r.kt)("a",{parentName:"li",href:"#resetting-vrchat-osc-configs"},"resetting OSC config"),". If completely clearing the OSC configs still results in loading 0 parameters, the avatar does not use VRCFT-compatible parameters.")))),(0,r.kt)("p",null,"Don't see your problem here? Make sure to check the page(s) specific to your hardware setup.\nIf you still cannot find an answer to your specific problem, create a help request in the ",(0,r.kt)(o.d9,{color:"#5763ee",mdxType:"TextColor"},"#setup-help-forum")," in the ",(0,r.kt)(o.xb,{to:"discord",mdxType:"CustomLink"}),"."))}h.isMDXComponent=!0},7915:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vrcft_shortcut_example-4130e280bbff268603b1f59206726aff.png"}}]);