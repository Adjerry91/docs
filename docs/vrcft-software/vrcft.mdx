---
sidebar_position: 1
---

# VRCFaceTracking Program

import {EditUrl, CustomLink, TextColor} from '@site/src/components/Utils.tsx'
import {ImageCard} from '@site/src/components/Cards.tsx'
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

VRChat has no native face tracking integration,
which means there must be an intermediary software accessing face tracking data from the hardware source then sending it to VRC via OSC as avatar parameters.
VRCFaceTracking fulfills this intermediary role, not only reading data and repackaging it as OSC messages for VRChat, but
morphing the input data into its own unified face tracking standard, thus acting as a Roseta Stone between face tracking hardware and VRChat avatars. 
VRCFaceTracking works by the concept of "modules", which are add-on files that let the program access eye and face tracking data from different sources.

## Install VRCFaceTracking

:::info
VRCFaceTracking Unified Expressions Update has been released!
Comes with brand new UI, installer with auto-updater, and more.
:::

<div class="row" style={{display: 'flex',  justifyContent:'center', alignItems:'center'}}>
  <ImageCard name="VRCFaceTracking AppInstaller"
  url="https://github.com/benaclejames/VRCFaceTracking/releases/latest/download/VRCFaceTracking_x64.appinstaller"
  image={require('@site/docs/vrcft-software/img/vrcft_installer.png').default}
  description="Get the latest Release lightweight Windows AppInstaller, just run and install!"/>
</div>

Don't want to use the Windows AppInstaller? Visit the [latest release page](https://github.com/benaclejames/VRCFaceTracking/releases/latest/) for the MSIX, or install via Winget

```cmd
winget install BenacleJames.VRCFaceTracking
```

## Using VRCFaceTracking

VRCFaceTracking has its functionality spread across a few tabs

<!-- Turns out docusarus still doesn't generate the correct toc tree if headers are imported from subpages-->

<!-- import HomeTab from './vrcft-subpages/_hometab.mdx'
import SettingsTab from './vrcft-subpages/_settings.mdx' -->

<!-- <Tabs
  defaultValue="home"
  values={[
    {label: 'Home', value: 'home'},
    {label: 'Output', value: 'output'},
    {label: 'Module Registry', value: 'module-registry'},
    {label: 'Settings', value: 'settings'},
  ]}>
  <TabItem value="home">
    <HomeTab/>
  </TabItem>
  <TabItem value="output">
    <HardwareTableAddon/>
  </TabItem>
  <TabItem value="module-registry">
    <HardwareTableDesktop/>
  </TabItem>
  <TabItem value="settings">
    <SettingsTab/>
  </TabItem>
</Tabs> -->

### Home

In the home view, you will find the most important information when using VRCFaceTracking:

* the currently initialized module(s)
* OSC Status
* VRChat Avatar Status

The currently initialized modules section will display the name of the module as well as an image of the related module hardware/software.
Outside of a valid initialized module, it may also inform the user that there are *no* modules installed, no modules loaded, or that a module is currently initializing.
The "Toggle Tracking" button on the right controls the receiving of tracking data from the module.

---

### Output

The Output page is *the* contains the text log of the VRCFaceTracking program in a scrollable window, and will contain messages from basically every internal part of the program.
At the top, you will find two buttons for copying or saving the output log to a text file, respectively.
This output is invaluable if you are debugging or asking for help with something that seems wrong with your VRCFaceTracking program.

:::info
Note that upon a crash, VRCFaceTracking *should* automatically save the output log to a file called `latest.log` in the `...\AppData\Roaming\VRCFaceTracking` directory.
:::

---

### Module Registry

In the Module Registry page, you will find a list of avaliable tracking modules to download and install.
Simply select the module for the headset or hardware you wish to use, and click the Install button.
The selected module will display the module author information, total downloads, module source link, and more.
You can even rate the module out of 5 stars ⭐⭐⭐⭐⭐ to help other users get an idea of what you think of the module.

<!-- INSERT IMAGE HERE -->

---

### Settings

In the settings tab, you can adjust options relating to the overall look and function of the VRCFaceTracking application,
in addition to accessing the [Risky Functions](#risky-functions).
You will also find the version number that you are running at the bottom.

#### Change App Theme

You can set the app to use light or dark modes, or follow your system setting (default).

#### Changing the OSC IP and Ports

You can now easily change the OSC address and input/output ports by adjusting the values in the GUI.

#### Risky Functions

The Risky functions allows you to perform certain diagnostics and utility functions.
So far, we have four functions available to use:

1. Force Relevancy
Force relevancy essentially forces every parameter to be relevant regardless of your currently equipped avatar (excluding binary params as we don't know how many bits to use). This is potentially useful to test if VRChat is even receiving the parameters as it works independently of the avatar loaded.
This means you can finally use VRCFT on test avatars as this mode doesn't require a config file to be present!

2. Force Re-Initialize
This is a reimplementation of an old feature from VRCFT 4.0, it allows you to force VRCFT to re-initialize all modules in case an issue has occured at runtime. You'll get mixed results as most modules and tracking runtimes don't particularly want you doing this, but better than nothing!

3. Reset VRCFT
This button will create a file named "reset" in the VRCFT persistent data directory which, upon reload, will cause VRCFT to wipe it's data directory and start fresh. This will wipe modules, settings, configs, and any other data in that folder. Use wisely. 

4. Reset VRChat Configs
This is a quick way of clearing out your VRChat avatar osc config directory if (for whatever reason) the in-game reset config button doesn't work. This isn't a particularly destructive action as the files are regenerated on avatar load, though could be a pain if you've made manual modifications to files in that directory.

---

### Resetting VRChat OSC Configs

Because of the sheer number of possible face tracking parameter configurations, VRCFaceTracking does not blindly send OSC messages for every possible parameter.
Until VRChat releases the ["OSC Query" update](https://ask.vrchat.com/t/developer-update-2-september-2022/13470#oscquery-9), which is [currently in closed beta](https://github.com/vrchat-community/osc/issues/143#issuecomment-1304419543),
VRCFaceTracking will rely on the static OSC config .json generated for each avatar to know what parameters to send.
This configuration file is **never** updated automatically, it must be reset manually to force VRC to generate an up-to-date version or manually edited yourself.

There are three ways to reset configs:

<details>
  <summary>1️ Using the OSC Radial Menu (In-game)</summary>

  1. While in VRC, open the Radial Menu
  2. Navigate to Options -> OSC
  3. Toggle the "Reset OSC Config" option. Setting this will cause an avatar refresh and *hopefully* reset the **current avatar's** OSC config .json

</details>

<details>
  <summary>2️ Use VRCFaceTracking's "Reset VRChat Configs" Risky Function</summary>

   1. Open VRCFaceTracking and navigate to the Settings page
   2. Enable the "Risky Settings" toggle then expand the list of "Risky Settings"
   3. Click the "Reset" button for "Reset VRChat Configs". Note that this will delete *all* OSC config .json files for every avatar

</details>

<details>
  <summary>3️ Deleting the config .json files manually</summary>

  1. Navigate to your AppData folder. You can get to ``AppData\Roaming`` by typing ``%appdata%`` into the search bar in the Windows Start Menu, or in the address bar of any Explorer window.
  2. Go to `...\AppData\LocalLow\VRChat\VRChat\` and delete the OSC folder.
  3. Restart VRC or refresh your avatar (by resetting or swapping avatar)

</details>

## Common Problems and How to Solve Them

- **VRCFaceTracking isn't starting at all**
  - Cause: There is some invalid file in the VRCFaceTracking appdata location, and it's preventing the program from starting up.
  - Solution: Try manually clearing the `...\AppData\Roaming\VRCFaceTracking` folder and deleting everything. 

- **VRCFaceTracking is crashing when I join a world / change avatars**
  - Cause: VRCFaceTracking failed to parse an invalid avatar OSC config.
  - Solution: Clear out your VRChat Avatar OSC folder. Follow option 2 in [resetting OSC config](#resetting-vrchat-osc-configs)

- **My personally uploaded Avatar loads 0 parameters!**
  - Cause: Your avatar either doesn't have face tracking parameters, or is using an old OSC config that didn't have the face tracking parameters.
  - Solution: Follow option 1 and/or 2 in [resetting OSC config](#resetting-vrchat-osc-configs). If completely clearing the OSC configs still results in loading 0 parameters, the avatar does not use VRCFT-compatible parameters.

Don't see your problem here? Make sure to check the page(s) specific to your hardware or module. 
If you still cannot find an answer to your specific problem, create a help request in the <TextColor color="#5763ee">#setup-help-forum</TextColor> in the <CustomLink to="discord"/>.
If you find a bug specific to the VRCFT5.0 program, file an issue at the <CustomLink to="Github"/> and / or post about it in the <TextColor color="#5763ee">#vrcft-v5-feedback</TextColor>